<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Ajax</title>
    <!-- bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css"
        integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <!-- bootstrap-icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
    <!-- font-awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body class="bg-light">
    <div class="container mt-3">
        <p>
            <button type="button" class="btn btn-primary" id="btnGetPosts">
                get posts
            </button>
            <button type="button" class="btn btn-success ml-3" id="btnPostPosts">
                post posts
            </button>
        </p>
        <div class="row" id="row">
        </div>
    </div>

    <!-- jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"
        integrity="sha512-aVKKRRi/Q/YV+4mjoKBsE4x3H+BkegoM/em46NNlCqNTmUYADjBbeNefNxYV7giUp0VxICtqdrbqU7iVaeZNXA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- font-awesome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/js/all.min.js"
        integrity="sha512-rpLlll167T5LJHwp0waJCh3ZRf7pO6IT1+LZOhAyP6phAirwchClbTZV3iqL3BMrVxIYRbzGTpli4rfxsCK6Vw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
        integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
        crossorigin="anonymous"></script>
    <!-- custom js -->
    <script>
        $('#btnGetPosts').on('click', function() {
            $.ajax({
                url: 'https://jsonplaceholder.typicode.com/posts',
                type: 'GET',
                dataType: 'JSON',
                success: function(response) {
                    $('#tbPosts > tbody').empty();

                    let userId_list = ['','박정호', '김유미', '최진민', '김정호', '김영수', '김정숙', '한숙자', '유성훈', '이시우', '안성수'];
                    let userId_json = {
                        '1': '박정호',
                        '2': '김유미',
                        '3': '최진민',
                        '4': '김정호',
                        '5': '김영수',
                        '6': '김정숙',
                        '7': '한숙자',
                        '8': '유성훈',
                        '9': '이시우',
                        '10': '안성수',
                    }

                    let i = 1;
                    let j = 1;
                    let row = '';
                    let col = 0;

                    $.each(response, function(index, element) {
                        let id = element.id;
                        //let userId = userId_list[element['userId']];
                        let userId = userId_json[element['userId']];
                        let title = element['title'];
                        let body = element['body'];

                        // 홀수 라인, 왼쪽
                        if (j % 2 == 1 && i == 1) {
                            col = 8;
                            i++;
                        } 
                        // 홀수 라인, 오른쪽 
                        else if (j % 2 == 1 && i == 2) {
                            col = 4;
                            i = 1;
                            j++;
                        }
                        // 짝수 라인, 왼쪽 
                        else if (j % 2 == 0 && i == 1) {
                            col = 4;
                            i++;
                        }
                        // 짝수 라인, 오른쪽 
                        else if (j % 2 == 0 && i == 2) {
                            col = 8;
                            i = 1;
                            j++;
                        } 

                        row += '<div class="col-md-' + col + ' mb-3">';
                        row += '<div class="card">';
                        row += '<div class="card-body">';
                        row += '<h5 class="card-title">[' + id + '] ' + title + '</h5>';
                        row += '<p class="card-text">' + body + '</p>';
                        row += '</div>';
                        row += '</div>';
                        row += '</div>';
                    });

                    $('#row').html(row);
                },
                error: function(request, status, error) {
                    console.log(error);
                }
            });
        });

        $('#btnPostPosts').on('click', function() {
            $.ajax({
                url: 'https://jsonplaceholder.typicode.com/posts',
                type: 'POST',
                dataType: 'JSON',
                data: {
                    'userId': 1,
                    'title': 'adsf',
                    'body': 'adsf1asdfasdf',
                },
                success: function(response) {
                    console.log(response);
                },
                error: function(request, status, error) {
                    console.log(error);
                }
            });
        });
    </script>
</body>

</html>